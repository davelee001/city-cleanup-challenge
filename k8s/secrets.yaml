apiVersion: v1
kind: Secret
metadata:
  name: city-cleanup-secrets
  namespace: city-cleanup
type: Opaque
stringData:
  # Azure Key Vault credentials
  AZURE_CLIENT_ID: "your-client-id"
  AZURE_CLIENT_SECRET: "your-client-secret"
  AZURE_TENANT_ID: "your-tenant-id"
  AZURE_KEY_VAULT_URL: "https://your-keyvault.vault.azure.net/"
  
  # Database credentials (if using PostgreSQL)
  DATABASE_URL: "postgresql://user:password@postgres:5432/city_cleanup"
  DB_PASSWORD: "your-db-password"
  
  # JWT Secret
  JWT_SECRET: "your-jwt-secret-key"
  
  # API Keys
  MAPS_API_KEY: "your-maps-api-key"
---
# For production, use Azure Key Vault integration
apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: azure-keyvault-secret-provider
  namespace: city-cleanup
spec:
  provider: azure
  parameters:
    usePodIdentity: "false"
    useVMManagedIdentity: "true"
    userAssignedIdentityID: ""
    keyvaultName: "city-cleanup-keyvault"
    cloudName: ""
    objects: |
      array:
        - |
          objectName: database-password
          objectType: secret
          objectVersion: ""
        - |
          objectName: jwt-secret
          objectType: secret
          objectVersion: ""
        - |
          objectName: maps-api-key
          objectType: secret
          objectVersion: ""
    tenantId: "your-tenant-id"
